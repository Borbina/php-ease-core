build:
  environment:
    variables:
      DEBIAN_FRONTEND: 'noninteractive'    
  nodes:
    ease-core:
        environment:
            variables:
                DEBIAN_FRONTEND: 'noninteractive'    
        dependencies:
            before:
                - composer self-update
                - composer install --no-interaction
                - sudo apt-get install -y postfix
    analysis:
      tests:
        override:
          - php-scrutinizer-run

    coverage:
      tests:
        override:
          - command: './vendor/bin/phpunit --whitelist catalog --coverage-clover /home/scrutinizer/build/coverage.xml tests'
            coverage:
              file: coverage.xml
              format: clover

filter:
    excluded_paths:
        - 'tests/*'
        - 'vendor/*'
        - 'Examples/*'
tools:
    php_code_sniffer:
        config:
            standard: "PSR2"

checks:
    php:
        code_rating: true
        duplication: true
        
